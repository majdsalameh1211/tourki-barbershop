/* ═══════════════════════════════════════════════════════════════
   BOOKING PAGE - PERCENTAGE-BASED VIEWPORT LAYOUT
   Tourki Barbershop Booking System
   
   EVERY zone is a fixed % of 100dvh. No flex:1 guessing.
   
   ┌─────────────────────────────────┐
   │  NAVBAR ZONE               10%  │  bp-navbar-zone
   ├─────────────────────────────────┤
   │  PROGRESS DOTS             10%  │  bp-progress-zone (12.5%)
   │  padding                   2.5% │
   ├─────────────────────────────────┤
   │  padding                   2.5% │
   │  STEP TITLE                 5%  │  bp-title-zone (10%)
   │  padding                   2.5% │
   ├─────────────────────────────────┤
   │  STEP CONTENT ZONE        67.5% │  bp-content-zone
   │  ┌───────────────────────────┐  │
   │  │  REAL CONTENT       52.5% │  │  bp-content-data
   │  ├───────────────────────────┤  │
   │  │  padding             2.5% │  │
   │  │  BUTTONS             10%  │  │  bp-content-buttons (15%)
   │  │  padding             2.5% │  │
   │  └───────────────────────────┘  │
   └─────────────────────────────────┘
   TOTAL:  10 + 12.5 + 10 + 67.5 = 100%
   ═══════════════════════════════════════════════════════════════ */

/* ═══════════════════════════════════════════════════════════════
   ROOT CONTAINER — exactly 100dvh, no scroll
   ═══════════════════════════════════════════════════════════════ */
.bp {
  width: 100%;
  height: 100dvh;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: linear-gradient(180deg, #F9FAFB 0%, #FFFFFF 40%, #F9FAFB 100%);
}

/* ═══════════════════════════════════════════════════════════════
   ZONE 1: NAVBAR (10%)
   The actual navbar is rendered outside (App.jsx) with
   position:sticky. This zone reserves the space.
   ═══════════════════════════════════════════════════════════════ */
.bp-navbar-zone {
  width: 100%;
  height: 1dvh;
  flex-shrink: 0;
}

/* ═══════════════════════════════════════════════════════════════
   ZONE 2: PROGRESS DOTS (15% = 2.5 + 10 + 2.5)
   ═══════════════════════════════════════════════════════════════ */
.bp-progress-zone {
  width: 100%;
  height: 12.5dvh;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* No top padding (sits right under navbar), 2.5% bottom only */
  padding: 0 1rem 2.5dvh 1rem;
  background: rgba(255, 255, 255, 0.95);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(212, 175, 55, 0.08);
}

.bp-progress-inner {
  width: 100%;
  height: 100%;
  max-width: 700px;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ═══════════════════════════════════════════════════════════════
   ZONE 3: STEP TITLE (10% = 2.5 + 5 + 2.5)
   ═══════════════════════════════════════════════════════════════ */
.bp-title-zone {
  width: 100%;
  height: 10dvh;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  /* 2.5% top + 2.5% bottom padding */
  padding: 2.5dvh 1rem;
}

.bp-title-inner {
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.bp-step-title {
  font-size: clamp(1rem, 3vw, 1.6rem);
  font-weight: 800;
  color: #1F2937;
  text-align: center;
  margin: 0;
  letter-spacing: -0.3px;
  background: linear-gradient(135deg, #1F2937 0%, #374151 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ═══════════════════════════════════════════════════════════════
   ZONE 4: STEP CONTENT (65%)
   Split into: data (50%) + buttons (15%)
   ═══════════════════════════════════════════════════════════════ */
.bp-content-zone {
  width: 90%;
  height: 67.5dvh;
  flex-shrink: 0;
  display: flex;
  flex-direction: column;
  margin: 0 auto;
  padding: 0; /* 5% on each side is handled by width: 90% centered */
}

/* ── Sub-zone A: Real step content (50dvh) ── */
.bp-content-data {
  width: 100%;
  height: 52.5dvh;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow-y: auto;
  overflow-x: hidden;
  scrollbar-width: thin;
  scrollbar-color: rgba(212, 175, 55, 0.2) transparent;
}

.bp-content-data::-webkit-scrollbar { width: 4px; }
.bp-content-data::-webkit-scrollbar-track { background: transparent; }
.bp-content-data::-webkit-scrollbar-thumb { background: rgba(212, 175, 55, 0.2); border-radius: 4px; }

/* ── Sub-zone B: Buttons (15dvh = 2.5 + 10 + 2.5) ── */
.bp-content-buttons {
  width: 100%;
  height: 15dvh;
  flex-shrink: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  /* 2.5dvh top + 2.5dvh bottom padding, inner = 10dvh */
  padding: 2.5dvh 0;
}

/* ═══════════════════════════════════════════════════════════════
   RESPONSIVE — only container-level tweaks
   ═══════════════════════════════════════════════════════════════ */
@media (max-width: 480px) {
  .bp-progress-zone { padding: 0 0.5rem 2.5dvh 0.5rem; }
  .bp-title-zone { padding: 2.5dvh 0.5rem; }
}

@media (max-width: 375px) {
  .bp-progress-zone { padding: 0 0.25rem 2.5dvh 0.25rem; }
}

/* ═══════════════════════════════════════════════════════════════
   SAFE AREA (Notched devices)
   ═══════════════════════════════════════════════════════════════ */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .bp-content-buttons {
    padding-bottom: calc(2.5dvh + env(safe-area-inset-bottom));
  }
}

/* ═══════════════════════════════════════════════════════════════
   DESKTOP GRID LAYOUT (min-width: 1024px)
   Structure: 5% Side Pads / 2.5% Vertical Spacers
   FIXED: Added 2.5% gap between Content and Buttons
   ═══════════════════════════════════════════════════════════════ */
@media (min-width: 1024px) {

  .bp {
    display: grid;
    height: 100vh;
    height: 100dvh;
    min-height: 700px;
    
    /* 1. DEFINE ROWS (Total = 100%)
       Nav(10) + Pad(2.5) + Title(5) + Pad(2.5) + Content(67.5) + GAP(2.5) + Buttons(10) */
    grid-template-rows: 1vh 2.5vh 5vh 2.5vh 67.5vh 2.5vh 10vh;

    /* 2. DEFINE COLUMNS (Total = 100%)
       Pad(5) + Dots(5) + Pad(5) + Content(80) + Pad(5) */
    grid-template-columns: 5% 5% 5% 80% 5%;

    /* 3. MAP THE ZONES */
    grid-template-areas:
      "nav    nav    nav    nav     nav"    /* Row 1: Navbar */
      ".      .      .      .       ."      /* Row 2: Padding */
      ".      .      title  title   ."      /* Row 3: Title */
      ".      .      .      .       ."      /* Row 4: Padding */
      ".      dots   .      content ."      /* Row 5: MAIN CONTENT */
      ".      .      .      .       ."      /* Row 6: NEW GAP (2.5%) */
      ".      .      .      btns    .";     /* Row 7: BUTTONS */
  }

  /* 4. ASSIGN DIRECT CHILDREN TO AREAS */
  .bp-navbar-zone   { grid-area: nav; }
  .bp-progress-zone { grid-area: dots; }
  .bp-title-zone    { grid-area: title; }

  /* 5. UNWRAP THE CONTENT ZONE */
  /* This is critical for grid placement */
  .bp-content-zone {
    display: contents; 
  }

  /* 6. PLACE CHILDREN ON GRID */
  
  /* Main Content: Fills the 67.5vh row */
  .bp-content-data {
    grid-area: content;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    padding-right: 1rem;
  }

  /* Buttons: Fills the 10vh row (after the gap) */
  .bp-content-buttons {
    grid-area: btns;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center; /* Vertically centered in the 10vh strip */
    justify-content: flex-end; /* Right aligned */
    padding-bottom: 0;
  }

  /* 7. RESET STYLES FOR DESKTOP */
  .bp-progress-zone,
  .bp-title-zone {
    width: 100%;
    height: 100%;
    padding: 0;
    margin: 0;
    background: transparent;
    border: none;
    backdrop-filter: none;
  }

  /* Vertical Dots Alignment */
  .bp-progress-zone {
    justify-content: flex-start;
    padding-top: 2rem; 
  }
  
  .bp-progress-inner {
    height: auto;
    align-items: center; 
  }

  /* Title Alignment */
  .bp-title-zone {
    align-items: flex-start;
    justify-content: center;
  }
  
  .bp-step-title {
     font-size: 1.5rem; 
  }
}